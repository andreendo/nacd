
> @ test /home/user/benchmarks/nacd/zeit_micro
> NODE_ENV=test ava

 
 â ‹ [2K[1A[2K[G 
 â ™ [2K[1A[2K[G 
 â ¹ [2K[1A[2K[G 
 â ¸ [2K[1A[2K[G 
 â ¼ [2K[1A[2K[G 
 â ¼ â€¦

  1 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ¼ â€¦

  2 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ¼ â€¦

  3 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ¼ â€¦

  4 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ¼ â€¦

  5 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ¼ â€¦

  6 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ¼ â€¦

  7 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ´ â€¦

  7 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ´ â€¦

  8 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ¦ â€¦

  8 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ¦ â€¦

  9 passed[2K[1A[2K[1A[2K[1A[2K[GError: Custom
    at fn (/home/user/benchmarks/nacd/zeit_micro/test/development.js:27:9)
    at resolve (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:33)
    at new Promise (<anonymous>)
    at Function.exports.run (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:2)
    at Server.<anonymous> (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:25:43)
    at Server.emit (events.js:198:13)
    at parserOnIncoming (_http_server.js:691:12)
    at HTTPParser.parserOnHeadersComplete (_http_common.js:111:17)
 
 â ¦ â€¦

  9 passed[2K[1A[2K[1A[2K[1A[2K[GError: Custom
    at fn (/home/user/benchmarks/nacd/zeit_micro/test/development.js:40:15)
    at resolve (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:33)
    at new Promise (<anonymous>)
    at Function.exports.run (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:2)
    at Server.<anonymous> (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:25:43)
    at Server.emit (events.js:198:13)
    at parserOnIncoming (_http_server.js:691:12)
    at HTTPParser.parserOnHeadersComplete (_http_common.js:111:17)
 
 â ¦ â€¦

  9 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ¦ â€¦

  10 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ¦ â€¦

  11 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ¦ â€¦

  12 passed[2K[1A[2K[1A[2K[1A[2K[GError: 500 from test (expected)
    at fn (/home/user/benchmarks/nacd/zeit_micro/test/index.js:224:9)
    at resolve (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:33)
    at new Promise (<anonymous>)
    at Function.exports.run (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:2)
    at Server.<anonymous> (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:25:43)
    at Server.emit (events.js:198:13)
    at parserOnIncoming (_http_server.js:691:12)
    at HTTPParser.parserOnHeadersComplete (_http_common.js:111:17)
 
 â ¦ â€¦

  12 passed[2K[1A[2K[1A[2K[1A[2K[GError: 500 from test (expected)
    at fn (/home/user/benchmarks/nacd/zeit_micro/test/index.js:238:9)
    at resolve (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:33)
    at new Promise (<anonymous>)
    at Function.exports.run (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:2)
    at Server.<anonymous> (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:25:43)
    at Server.emit (events.js:198:13)
    at parserOnIncoming (_http_server.js:691:12)
    at HTTPParser.parserOnHeadersComplete (_http_common.js:111:17)
 
 â ¦ â€¦

  12 passed[2K[1A[2K[1A[2K[1A[2K[GError: 500 from test (expected)
    at fn (/home/user/benchmarks/nacd/zeit_micro/test/index.js:255:24)
    at resolve (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:33)
    at new Promise (<anonymous>)
    at Function.exports.run (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:2)
    at Server.<anonymous> (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:25:43)
    at Server.emit (events.js:198:13)
    at parserOnIncoming (_http_server.js:691:12)
    at HTTPParser.parserOnHeadersComplete (_http_common.js:111:17)
 
 â ¦ â€¦

  12 passed[2K[1A[2K[1A[2K[1A[2K[GTypeError: handlers[key] is not a function
    at Object.emit (/home/user/benchmarks/nacd/zeit_micro/test/index.js:280:5)
    at fn (/home/user/benchmarks/nacd/zeit_micro/test/index.js:288:10)
    at resolve (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:33)
    at new Promise (<anonymous>)
    at Function.exports.run (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:2)
    at Server.<anonymous> (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:25:43)
    at Server.emit (events.js:198:13)
    at parserOnIncoming (_http_server.js:691:12)
    at HTTPParser.parserOnHeadersComplete (_http_common.js:111:17)
 
 â ¦ â€¦

  12 passed[2K[1A[2K[1A[2K[1A[2K[GError: Invalid JSON
    at createError (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:32:14)
    at parseJSON (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:132:9)
    at exports.text.then.body (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:170:39)
    at process._tickCallback (internal/process/next_tick.js:68:7)
 
 â ¦ â€¦

  12 passed[2K[1A[2K[1A[2K[1A[2K[GTypeError: Converting circular structure to JSON
    at JSON.stringify (<anonymous>)
    at send (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:80:15)
    at fn (/home/user/benchmarks/nacd/zeit_micro/test/index.js:444:3)
    at resolve (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:33)
    at new Promise (<anonymous>)
    at Function.exports.run (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:2)
    at Server.<anonymous> (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:25:43)
    at Server.emit (events.js:198:13)
    at parserOnIncoming (_http_server.js:691:12)
    at HTTPParser.parserOnHeadersComplete (_http_common.js:111:17)
 
 â ¦ â€¦

  12 passed[2K[1A[2K[1A[2K[1A[2K[GTypeError: Cannot read property 'some' of undefined
    at fn (/home/user/benchmarks/nacd/zeit_micro/test/index.js:486:19)
    at process._tickCallback (internal/process/next_tick.js:68:7)
 
 â ¦ â€¦

  12 passed[2K[1A[2K[1A[2K[1A[2K[GError: Custom
    at fn (/home/user/benchmarks/nacd/zeit_micro/test/index.js:506:15)
    at resolve (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:33)
    at new Promise (<anonymous>)
    at Function.exports.run (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:108:2)
    at Server.<anonymous> (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:25:43)
    at Server.emit (events.js:198:13)
    at parserOnIncoming (_http_server.js:691:12)
    at HTTPParser.parserOnHeadersComplete (_http_common.js:111:17)
thrown error must be an instance Error
 
 â ¦ â€¦

  12 passed[2K[1A[2K[1A[2K[1A[2K[GError: Invalid JSON
    at createError (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:32:14)
    at parseJSON (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:132:9)
    at exports.text.then.body (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:170:39)
    at process._tickCallback (internal/process/next_tick.js:68:7)
 
 â ¦ â€¦

  12 passed[2K[1A[2K[1A[2K[1A[2K[GError: Invalid body
    at createError (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:32:14)
    at getRawBody.then.catch.err (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/index.js:161:12)
    at process._tickCallback (internal/process/next_tick.js:68:7)
 
 â ¦ â€¦

  12 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  12 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  13 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  14 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  15 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  16 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  17 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  18 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  19 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  20 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  21 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  22 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  23 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  24 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  25 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  26 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  27 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  28 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  29 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  30 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  31 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  32 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  33 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  34 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  35 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  36 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  37 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  38 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  39 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  40 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  41 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  42 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  43 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  44 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  45 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  46 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  47 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  48 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  49 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  50 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  51 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  52 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  53 passed[2K[1A[2K[1A[2K[1A[2K[GError: Error from test (expected)
    at fn (/home/user/benchmarks/nacd/zeit_micro/test/index.js:208:15)
 
 â § â€¦

  53 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  54 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  55 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â § â€¦

  56 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ‡ â€¦

  56 passed[2K[1A[2K[1A[2K[1A[2K[Gmicro: The file "/home/user/benchmarks/nacd/zeit_micro/test/fixtures/regular-object" does not export a function.
 
 â ‡ â€¦

  56 passed[2K[1A[2K[1A[2K[1A[2K[Gmicro: https://err.sh/micro/no-export
 
 â ‡ â€¦

  56 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ‡ â€¦

  57 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ‡ â€¦

  58 passed[2K[1A[2K[1A[2K[1A[2K[Gmicro: Error when importing /home/user/benchmarks/nacd/zeit_micro/foo/bar: Error: Cannot find module '/home/user/benchmarks/nacd/zeit_micro/foo/bar'
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:636:15)
    at Function.Module._load (internal/modules/cjs/loader.js:562:25)
    at Module.require (internal/modules/cjs/loader.js:692:17)
    at require (internal/modules/cjs/helpers.js:25:18)
    at module.exports (/home/user/benchmarks/nacd/zeit_micro/packages/micro/lib/handler.js:8:15)
    at Test.test [as fn] (/home/user/benchmarks/nacd/zeit_micro/test/handler.js:49:18)
    at Test.callFn (/home/user/benchmarks/nacd/zeit_micro/node_modules/ava/lib/test.js:305:18)
    at Test.run (/home/user/benchmarks/nacd/zeit_micro/node_modules/ava/lib/test.js:318:23)
    at runNext (/home/user/benchmarks/nacd/zeit_micro/node_modules/ava/lib/sequence.js:58:44)
    at Sequence.run (/home/user/benchmarks/nacd/zeit_micro/node_modules/ava/lib/sequence.js:90:10)
    at runNext (/home/user/benchmarks/nacd/zeit_micro/node_modules/ava/lib/sequence.js:58:44)
    at promise.then.passed (/home/user/benchmarks/nacd/zeit_micro/node_modules/ava/lib/sequence.js:86:12)
    at process._tickCallback (internal/process/next_tick.js:68:7)
 
 â ‡ â€¦

  58 passed[2K[1A[2K[1A[2K[1A[2K[Gmicro: https://err.sh/micro/invalid-entry
 
 â ‡ â€¦

  58 passed[2K[1A[2K[1A[2K[1A[2K[G 
 â ‡ â€¦

  59 passed[2K[1A[2K[1A[2K[1A[2K[G
  59 passed
